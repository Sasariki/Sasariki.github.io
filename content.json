{"posts":[{"title":"为你的网站加上一个Ai","text":"我昨天在逛土土网站的时候，看到友链有一个网站里面有Ai的文章概括。我觉得这个很酷，正好我自己正在训练大模型，想着可不可以用我的网站测试一下~ Ai概括来源（NaoKuo） 我于是在bing上面找相关的技术文章，找到了这个开源项目：github 分享一下我是如何部署的，在官方找到源码 123456&lt;link rel=&quot;stylesheet&quot; href=&quot;https://ai.tianli0.top/static/public/tianli_gpt.min.css&quot;&gt;&lt;script&gt;let tianliGPT_postSelector = '#post #article-container';let tianliGPT_key = '5Q5mpqRK5DkwT1X9Gi5e';&lt;/script&gt;&lt;script src=&quot;https://ai.tianli0.top/static/public/tianli_gpt.min.js&quot;&gt;&lt;/script&gt; 把这段代码复制到你的网站文章界面，就那WordPress为例。 再合适的地方粘贴，然后重要的一步来了，一定要修改tianliGPT_postSelector和tianliGPT_key。 tianliGPT_postSelector 这个参数是填写你的博客文章所在的元素属性的选择器，在生成提交的文本时，只会将这个选择器对应的元素内的文本进行提交，并且在这个选择器对应的元素上放插入AI摘要。 例如我的： 就是在#main下的div的article中的头部插入，具体的可以在 这里 看到 修改好保存之后就要填写tianliGPT_key**，这个在 这里 看到，就填写到tianliGPT_key那一栏 也可以像我一样插入自己的模型，具体可以参考官方 效果概括：","link":"/2024/09/19/%E4%B8%BA%E4%BD%A0%E7%9A%84%E7%BD%91%E7%AB%99%E5%8A%A0%E4%B8%8A%E4%B8%80%E4%B8%AAAi/"},{"title":"如何使用CDN加速网站","text":"网站的加载速度直接影响==用户体验和SEO排名==。对于WordPress博客，使用**内容分发网络（CDN）**可以显著提升加载速度，特别是在有大量静态资源==（如图片、CSS、JavaScript等）==的情况下。CDN可以将这些静态资源分发到多个服务器节点，从而提高网站的性能。 本文将介绍如何使用国内几大主流CDN服务商，如七牛云、阿里云、腾讯云、又拍云等，来加速WordPress网站，并包括关于**==全站加速==**的内容。 一、选择合适的CDN服务商目前，市面上有多种CDN服务商可以选择，以下是几个常用的： 七牛云：提供高效、稳定的CDN加速服务，特别适合中小型网站，按流量计费。 阿里云：中国最大的云服务提供商，CDN服务强大且覆盖广，支持弹性带宽。 腾讯云：凭借腾讯的基础设施，腾讯云的CDN在国内有极高的访问速度和稳定性。 又拍云：以按需计费为特点，支持多种场景应用，适合各类企业级网站。 span 服务商的对比 服务商 优势 适用场景 定价模式 七牛云 简单易用，支持图像处理，适合中小企业 中小型博客和网站 按流量付费 阿里云 覆盖范围广，支持复杂需求，企业级服务 企业网站、大型电商平台 按流量或带宽付费 腾讯云 网络覆盖强，适合有高并发需求的网站 高流量网站 按带宽或流量付费 又拍云 操作简单，弹性计费，支持多种定制功能 博客、个人网站 按流量或存储付费 二、配置WordPress与CDN集成接下来将介绍如何将这些CDN服务与WordPress集成，使博客的静态资源通过CDN进行加速。 1. 七牛云CDN配置步骤 1：注册七牛云并创建空间 登录七牛云官网，注册并完成实名认证。 创建一个存储空间，选择**==公开空间==**，并记录下空间域名。 步骤 2：安装七牛云插件 在WordPress后台，搜索并安装“**==WP Qiniu==**”插件。 插件安装后，进入插件设置页面，填入七牛云的==Access Key、Secret Key==和Bucket信息。 设置文件保存路径，并将域名改为你在七牛云创建的空间域名。 步骤 3：同步静态资源插件会自动将WordPress的静态资源（图片、CSS、JS）上传到七牛云存储空间。同步完成后，你的站点将通过七牛云的CDN节点分发这些静态资源。 2. 阿里云CDN配置步骤 1：注册阿里云并创建CDN加速 注册并登录阿里云，进入CDN服务。 创建加速域名，将你的WordPress博客域名添加到CDN中，选择“**==全站加速==”或“==静态资源加速==**”。 添加完毕后，阿里云会提供一个加速域名。 步骤 2：安装缓存插件使用==W3 Total Cache或WP Super Cache==插件来集成阿里云CDN。 在WordPress后台安装**==W3 Total Cache==**插件。 启动插件后，进入“CDN”设置页面，启用CDN功能并将阿里云提供的加速域名填入“==CDN Hostname==”字段。 步骤 3：测试并启用确保所有的静态资源通过CDN加载，测试网站加载速度是否有明显提升。 3. 腾讯云CDN配置步骤 1：注册腾讯云并开通CDN服务 在腾讯云官网注册并登录。 进入CDN控制台，添加你的域名，并选择“**==静态内容加速==**”模式。 完成域名验证后，腾讯云会为你提供一个加速域名。 步骤 2：使用插件集成腾讯云CDN 在WordPress后台安装**==CDN Enabler==插件，或使用==W3 Total Cache==**插件。 启用插件后，在设置页面添加腾讯云提供的CDN加速域名。 保存设置，清理缓存后，检查静态资源是否通过CDN加载。 4. 又拍云CDN配置步骤 1：注册并创建加速服务 注册并登录又拍云官网。 在控制台中创建一个加速服务，选择适合的网站类型（如图片加速或全站加速）。 系统将生成一个加速域名供你使用。 步骤 2：安装并配置插件 在WordPress后台搜索并安装“**==UPYUN CDN for WordPress==**”插件。 在插件设置中输入又拍云提供的加速域名。 根据需求设置同步文件的类型（如图片、CSS、JS等）。 步骤 3：测试与监控设置完成后，你可以通过又拍云的控制台查看CDN的使用情况，确保静态资源的访问速度和加载性能得到了显著提升。 三、什么是全站加速？ **==全站加速==**是指将网站的静态资源（如图片、CSS、JS）和动态内容（如HTML页面、数据库查询响应）都通过CDN进行加速。与传统的仅加速静态内容的CDN相比，全站加速可以优化整个网站的访问速度，尤其是对于有大量动态请求的站点，比如带有用户登录、购物车、搜索功能的电商网站。 全站加速的好处 优化动态内容的加载：对于包含动态内容的网站（如用户交互页面、在线商店、社区平台等），全站加速不仅缓存静态文件，还优化动态数据的传输，使页面响应更快。 提升用户体验：无论用户身处何地，CDN的服务器都能将请求自动路由到最优节点，即使涉及动态数据的请求，也能实现快速响应。 减少服务器负载：通过将动态内容的负载分布在CDN节点上，主服务器不必处理所有请求，极大减少服务器压力。 适合全站加速的网站类型全站加速特别适合以下几类网站： 电商平台：电商网站的页面涉及大量动态内容，如产品展示、用户登录、购物车等，全站加速可以减少动态请求的延迟。 社区和社交平台：包含用户生成内容的社交网站需要频繁更新和处理数据，全站加速可减少数据库查询时间。 大型博客或新闻网站：这些网站不仅有静态内容展示，还可能包括用户评论、搜索功能等动态部分。 如何配置全站加速大多数国内主流的CDN服务商（如阿里云、腾讯云、七牛云）都提供全站加速功能。配置步骤如下： 启用全站加速服务：在CDN控制台中选择“全站加速”模式，将你的网站域名添加到全站加速服务中。 域名解析：将你的网站域名的DNS记录指向CDN提供的加速域名，确保所有用户请求都经过CDN节点。 缓存策略配置：根据网站的动态与静态内容设置不同的缓存策略，静态内容（如图片、CSS、JS）可设置为长时间缓存，而动态内容（如用户登录页面、搜索结果）则设置为较短的缓存时间，甚至不缓存。 测试并监控：确保全站加速功能正常运行后，通过监控工具观察网站的访问速度和CDN命中率，及时优化缓存策略。 阿里云DCDN 全站加速与普通CDN的区别普通的CDN主要用于加速静态资源的传输，如图片、CSS、JS等文件，而全站加速则在此基础上，进一步优化了动态内容的加载和处理。主要区别如下： 功能 普通CDN 全站加速 加速对象 静态资源（如图片、CSS、JS） 静态资源 + 动态内容 缓存 主要缓存静态资源 动态内容不缓存，但优化路由和传输 智能路由 无 有（根据网络状况选择最优路径） 动态请求加速 无 有（通过优化传输协议、智能路由等） 边缘计算 无 有（部分CDN节点支持边缘计算） 四、优化CDN的设置在完成CDN的基本配置后，还可以通过以下方法进一步优化站点的加载速度和性能： 1. 启用GZIP压缩大多数CDN服务商都支持**==GZIP压缩==**，通过压缩==HTML、CSS、JavaScript==等文件来减少数据传输量。你可以在CDN服务商的控制面板中启用GZIP功能，也可以通过WordPress插件启用压缩功能。 2. 配置缓存策略为不同类型的静态资源设置合理的缓存策略。例如，图片、字体等资源通常不会频繁更改，因此可以设置较长的缓存时间；而CSS、JS等文件则可以根据更新频率设置较短的缓存周期。这样可以减少用户每次访问时重复加载资源的时间。 3. 启用HTTP/2协议许多CDN服务商支持*HTTP/2协议，它允许浏览器并行加载多个文件，从而减少请求时间。确保你的CDN服务启用了HTTP/2，以进一步提高页面加载速度。 4. 使用HTTPS加密如今，安全性是网站的重要因素。大多数CDN服务商（如阿里云、腾讯云、七牛云等）都提供免费或付费的SSL证书。你可以通过CDN服务启用**==HTTPS加密==**，确保数据传输的安全性，提升网站在搜索引擎中的排名。 5. 监控和调整定期监控CDN的使用情况，查看网站的流量、加载速度、缓存命中率等指标。根据这些数据进行调整，例如优化缓存策略或升级CDN套餐，以适应网站的实际流量需求。 五、总结通过正确配置和使用CDN服务，WordPress博客的加载速度可以得到显著提升，从而改善用户体验并提高搜索引擎的排名。无论你选择七牛云、阿里云、腾讯云还是又拍云，关键在于选择适合自己网站需求的CDN服务商，并根据网站的特性优化配置。 全站加速对于涉及动态内容的站点尤其重要，它不仅提升静态资源加载速度，还能显著优化动态","link":"/2024/09/18/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8CDN%E5%8A%A0%E9%80%9F%E7%BD%91%E7%AB%99/"},{"title":"宝塔+docker搭建umami统计部署","text":"我是先从GitHub上先把umami的压缩包放到服务器上再解压，使用的最新版本，想着用MySQL+Docker来部署，部署完后发现是1.33的版本，无法获取token和统计api，原因在于使用了低版本的MySQL(5.7.44)，后面又换成Postgresql，发现Pgsql数据库是Docker打包好了的，不用下载，我还傻乎乎的去下载了一个 ，然后还导致端口冲突Umami 基于Node.js 开发，采用 MySQL 或 Postgresql 数据库存储数据 Node.js 18.17 或更高的版本 服务器上安装了 MySQL 8.0 或以上 或 Postgresql 12.14 或以上 下载完成后解压到服务器，先要设置一下Docker加速URL，不然你可以等一天 12345678{ &quot;registry-mirrors&quot;: [ &quot;https://docker.m.daocloud.io&quot;, &quot;https://dockerproxy.com&quot;, &quot;https://docker.mirrors.ustc.edu.cn&quot;, &quot;https://docker.nju.edu.cn&quot; ]} 请注意删除注释以及修改相关配置，修改在umami文件夹下的docker-composer.yml文件。 12345678910111213141516171819202122232425262728293031323334353637383940---version: '3'services: umami: //使用南京大的ghcr镜像:ghcr.nju.edu.cn image: ghcr.nju.edu.cn/umami-software/umami:postgresql-latest ports: //默认运行的端口，可以跟改为别的闲置端口 - &quot;3000:3000&quot; environment: //Umami数据库设置，可修改，但也请修改 PgSQL 镜像中的配置信息 DATABASE_URL: postgresql://umami:umami@db:5432/umami DATABASE_TYPE: postgresql APP_SECRET: replace-me-with-a-random-string depends_on: db: condition: service_healthy restart: always healthcheck: test: [&quot;CMD-SHELL&quot;, &quot;curl http://localhost:3000/api/heartbeat&quot;] interval: 5s timeout: 5s retries: 5 db: image: postgres:15-alpine ports: - &quot;5432:5432&quot; environment: POSTGRES_DB: umami POSTGRES_USER: umami POSTGRES_PASSWORD: umami volumes: //PgSQL数据库镜像数据存储的路径，请酌情修改 - /www/wwwroot/umami/PgSQL:/var/lib/postgresql/data restart: always healthcheck: test: [&quot;CMD-SHELL&quot;, &quot;pg_isready -U $${POSTGRES_USER} -d $${POSTGRES_DB}&quot;] interval: 5s timeout: 5s retries: 5 在docker-composer.yml文件目录下，运行下列命令： 1docker-compose up -d 容器构建完成可以访问http://ip:3000 进行查看使用 添加反向代理创建一个php静态站点，点击设置 → 反向代理 → 添加反向代理 目标URL：http://127.0.0.1:你的端口 ， 发送域名：$host ，没改端口默认就是 http://127.0.0.1:3000改完之后就可以通过你的域名来访问了 设置中文默认用户名：admin，密码：umami 进去之后先改为中文 找到语言，改为中文 添加网站找到设置 → 添加网站 选择编辑中的跟踪代码，将代码插入到网站的每一页即可 转载来自 别亦难","link":"/2024/09/18/%E5%AE%9D%E5%A1%94+docker%E6%90%AD%E5%BB%BAumami%E7%BB%9F%E8%AE%A1%E9%83%A8%E7%BD%B2/"},{"title":"10&#x2F;1","text":"这次看到国庆节期间香港有烟花就特地跑去观看，烟花视频在最下方 非常壮观，自从2019年之后就没看过这么大的烟火了 正好回去和朋友聚一下 一起去吃的松屋，正好看到香港也开了一家，之前只有中国台湾和日本有","link":"/2024/10/04/10/1/"}],"tags":[{"name":"Ai","slug":"Ai","link":"/tags/Ai/"},{"name":"bing","slug":"bing","link":"/tags/bing/"},{"name":"CND","slug":"CND","link":"/tags/CND/"},{"name":"加速","slug":"加速","link":"/tags/%E5%8A%A0%E9%80%9F/"},{"name":"WordPress","slug":"WordPress","link":"/tags/WordPress/"},{"name":"umami","slug":"umami","link":"/tags/umami/"},{"name":"宝塔","slug":"宝塔","link":"/tags/%E5%AE%9D%E5%A1%94/"},{"name":"GitHub","slug":"GitHub","link":"/tags/GitHub/"},{"name":"MySQL","slug":"MySQL","link":"/tags/MySQL/"},{"name":"Docker","slug":"Docker","link":"/tags/Docker/"},{"name":"统计","slug":"统计","link":"/tags/%E7%BB%9F%E8%AE%A1/"},{"name":"10&#x2F;1","slug":"10-1","link":"/tags/10-1/"},{"name":"香港","slug":"香港","link":"/tags/%E9%A6%99%E6%B8%AF/"}],"categories":[{"name":"技术分享","slug":"技术分享","link":"/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"},{"name":"日常&#x2F;出行","slug":"日常-出行","link":"/categories/%E6%97%A5%E5%B8%B8-%E5%87%BA%E8%A1%8C/"}],"pages":[{"title":"about","text":"","link":"/about/index.html"},{"title":"categories","text":"","link":"/categories/index.html"},{"title":"友链","text":"loadQexoFriends(\"qexo-friends\", \"https://qexo.yuazhi.cn\") 申请友链 名称 链接 请确保站点可访问！ 图标 描述 我提交的不是无意义信息 申请友链 function TestUrl(url) { var Expression=/http(s)?:\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- .\\/?%&=]*)?/; var objExp=new RegExp(Expression); if(objExp.test(url) != true){ return false; } return true; } function askFriend(event) { let check = $(\"#friend-check\").is(\":checked\"); let name = $(\"#friend-name\").val(); let url = $(\"#friend-link\").val(); let image = $(\"#friend-icon\").val(); let des = $(\"#friend-des\").val(); if (!check) { alert(\"请勾选\\\"我提交的不是无意义信息\\\"\"); return; } if (!(name && url && image && des)) { alert(\"信息填写不完整! \"); return; } if (!(TestUrl(url))) { alert(\"URL格式错误! 需要包含HTTP协议头! \"); return; } if (!(TestUrl(image))) { alert(\"图片URL格式错误! 需要包含HTTP协议头! \"); return; } event.target.classList.add('is-loading'); $.ajax({ type: 'POST', dataType: 'json', data: JSON.stringify({ \"name\": name, \"url\": url, \"image\": image, \"description\": des, \"verify\": token, }), contentType: 'application/json', url: 'https://qexo.yuazhi.cn/pub/ask_friend/', success: function (response) { alert(response.msg); }, error: function (jqXHR, textStatus, errorThrown) { console.error('Error during POST request:', textStatus, errorThrown); alert('提交失败，请稍后再试。'); } }); event.target.classList.remove('is-loading'); }","link":"/friends/index.html"},{"title":"messages","text":"","link":"/messages/index.html"},{"title":"tags","text":"","link":"/tags/index.html"},{"title":"动态","text":"showQexoTalks(\"qexot\", \"https://qexo.yuazhi.cn\", 5)","link":"/talks/index.html"}]}